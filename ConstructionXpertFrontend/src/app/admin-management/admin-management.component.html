<div class="admin-management-container">
  <h2>Admin Management</h2>

  <!-- Admin List -->
  <div *ngIf="admins.length > 0">
    <h3>Admin List</h3>
    <ul>
      <li *ngFor="let admin of admins">
        {{ admin.username }} ({{ admin.email }})
        <button (click)="onSelectAdmin(admin)">Edit</button>
        <button (click)="deleteAdmin(admin.id)">Delete</button>
      </li>
    </ul>
  </div>

  <!-- Admin Form for Adding/Editing -->
  <div *ngIf="selectedAdmin">
    <h3>Edit Admin</h3>
  </div>
  <form [formGroup]="adminForm" (ngSubmit)="updateAdmin()">
    <div class="form-group">
      <label for="username">Username</label>
      <input id="username" formControlName="username" type="text" />
      <div *ngIf="adminForm.get('username')?.invalid && adminForm.get('username')?.touched">
        <small class="error-text">Username is required</small>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" formControlName="email" type="email" />
      <div *ngIf="adminForm.get('email')?.invalid && adminForm.get('email')?.touched">
        <small class="error-text">Valid email is required</small>
      </div>
    </div>

    <button type="submit" [disabled]="adminForm.invalid">Update Admin</button>
    <button type="button" (click)="resetForm()">Reset</button>
  </form>

  <div *ngIf="errorMessage" class="error-message">
    <p>{{ errorMessage }}</p>
  </div>
</div>
